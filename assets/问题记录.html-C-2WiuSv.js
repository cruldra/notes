import{i as p,_ as h,r as E,o as m,c as g,d as t,e as n,a as e,b as u}from"./app-Bmelea3n.js";const _=p({__name:"问题记录.html",setup(r,{expose:i}){i();const o={images1:[{src:"https://cdn.jsdelivr.net/gh/hhypygy/images@master/20231231/image.7g07j2g47f00.webp",alt:""}],images2:[{src:"https://cdn.jsdelivr.net/gh/hhypygy/images@master/20231231/image.7g5fed349sk0.webp",alt:""}],images3:[{src:"https://cdn.jsdelivr.net/gh/hhypygy/images@master/20231231/img.61riuxesej00.webp",alt:""}],images4:[{src:"https://cdn.jsdelivr.net/gh/hhypygy/images@master/20231231/image.6agxnhjm9800.webp",alt:""}],images5:[{src:"https://cdn.jsdelivr.net/gh/hhypygy/images@master/20231231/image.74ge8s9rl4k0.webp",alt:""}],images6:[{src:"https://cdn.jsdelivr.net/gh/hhypygy/images@master/20231231/image.4bb3jflv3u80.webp",alt:""}],images7:[{src:"https://cdn.jsdelivr.net/gh/hhypygy/images@master/20231231/image.4wg4k3fmkuu0.webp",alt:""}]};return Object.defineProperty(o,"__isScriptSetup",{enumerable:!1,value:!0}),o}}),b=n(`<h2 id="application-error-a-client-side-exception-has-occurred-see-the-browser-console-for-more-information" tabindex="-1"><a class="header-anchor" href="#application-error-a-client-side-exception-has-occurred-see-the-browser-console-for-more-information"><span><code>Application error: a client-side exception has occurred (see the browser console for more information).</code></span></a></h2><h3 id="问题重现" tabindex="-1"><a class="header-anchor" href="#问题重现"><span>问题重现</span></a></h3><ol><li><p>从<code>github</code>上拉取全新代码下来</p></li><li><p>然后运行</p></li></ol><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> build</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> start</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,4),F=n(`<p>控制台报</p><div class="language-text line-numbers-mode" data-highlighter="shiki" data-ext="text" data-title="text" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>TypeError: e.startsWith is not a function</span></span>
<span class="line"><span>    at s.toString (18382-c28a9fa4cc36b827.js?__WB_REVISION__=b6yor6OdGoKR1uCpotzqV:1:56176)</span></span>
<span class="line"><span>    at s.clone (18382-c28a9fa4cc36b827.js?__WB_REVISION__=b6yor6OdGoKR1uCpotzqV:1:56734)</span></span>
<span class="line"><span>    at ey (35016-0112569440e4a14e.js?__WB_REVISION__=b6yor6OdGoKR1uCpotzqV:1:28097)</span></span>
<span class="line"><span>    at ev (35016-0112569440e4a14e.js?__WB_REVISION__=b6yor6OdGoKR1uCpotzqV:1:30987)</span></span>
<span class="line"><span>    at 35016-0112569440e4a14e.js?__WB_REVISION__=b6yor6OdGoKR1uCpotzqV:1:32390</span></span>
<span class="line"><span>    at 18382-c28a9fa4cc36b827.js?__WB_REVISION__=b6yor6OdGoKR1uCpotzqV:64:4723</span></span>
<span class="line"><span>    at 18382-c28a9fa4cc36b827.js?__WB_REVISION__=b6yor6OdGoKR1uCpotzqV:1:19675</span></span>
<span class="line"><span>    at 18382-c28a9fa4cc36b827.js?__WB_REVISION__=b6yor6OdGoKR1uCpotzqV:1:9312</span></span>
<span class="line"><span>    at e.value (18382-c28a9fa4cc36b827.js?__WB_REVISION__=b6yor6OdGoKR1uCpotzqV:1:3328)</span></span>
<span class="line"><span>    at d (18382-c28a9fa4cc36b827.js?__WB_REVISION__=b6yor6OdGoKR1uCpotzqV:1:9224)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="3"><li>但是用<code>next dev</code>在开发环境运行就没有问题</li></ol>`,3),B=n('<h3 id="解决思路" tabindex="-1"><a class="header-anchor" href="#解决思路"><span>解决思路</span></a></h3><p><a href="https://poe.com/s/fKlQNJwp9pRRCemaZbxY" target="_blank" rel="noopener noreferrer">poe</a>给了几个思路,一个个试:</p><ol><li><a href="https://poe.com/s/eiQW2pAGs6Gt7WRefTsj" target="_blank" rel="noopener noreferrer">打开源代码映射</a></li></ol><p>然后<code>next build</code>和<code>next start</code>后再打开,现在在控制台可以直接跳到错误源文件了:</p>',4),f=e("p",null,"点进去看到:",-1),v=e("p",null,"在这一行下断点然后刷新页面:",-1),A=e("p",null,[u("可以看到这里用一个"),e("code",null,"bool"),u("值调用了"),e("code",null,"startsWith"),u("方法,但是"),e("code",null,"bool"),u("值是没有这个方法的,所以报错了")],-1),D=e("p",null,"接下来找到是谁调的这个方法:",-1),C=e("p",null,[u("可以看到是"),e("code",null,"antd"),u("这个库发起的调用,我再去看了下我的"),e("code",null,"package.json"),u("发现"),e("code",null,'"antd": "^5",'),u(",再去"),e("code",null,"npmjs.com"),u("发现")],-1),y=n('<p>把<code>antd</code>降级一个小版本到<code>&quot;antd&quot;: &quot;5.12.5&quot;,</code>再构建运行就正常了,估计是刚刚更新有<code>BUG</code></p><p>最后回到<code>next.config</code>把<code>sourceMaps</code>关掉,防止暴露源代码.</p><p>那开发环境(next dev)下为什么不报错的原因没有去深究,因为这个我刚开始研究,整体来说还是个黑盒,就算不报这个错也不建议在对系统缺乏足够了解的情况下冒然升级依赖库的版本</p><h3 id="几点疑问" tabindex="-1"><a class="header-anchor" href="#几点疑问"><span>几点疑问</span></a></h3><ol><li><code>next start</code>用的生产环境的构建,对<code>js</code>压缩混淆过,光看控制台分析不出来是哪一块的代码出了问题</li><li>不应该一个地方出错,整个页面全挂掉,这个问题涉及<a href="https://nextjs.org/docs/advanced-features/error-handling#handling-client-errors" target="_blank" rel="noopener noreferrer">React 错误边界</a>,可以试试<a href="https://poe.com/s/Fw4g2oPfBYbFowJtw23H" target="_blank" rel="noopener noreferrer">poe给的方案</a></li></ol>',5);function k(r,i,l,s,c,d){const a=E("ImageRenderer");return m(),g("div",null,[b,t(a,{value:s.images1,width:"1000",height:"500"}),F,t(a,{value:s.images2,width:"1000",height:"500"}),B,t(a,{value:s.images3,width:"600",height:"200"}),f,t(a,{value:s.images4,width:"1000",height:"400"}),v,t(a,{value:s.images5,width:"1000",height:"200"}),A,D,t(a,{value:s.images6,width:"1000",height:"200"}),C,t(a,{value:s.images7,width:"1000",height:"200"}),y])}const R=h(_,[["render",k],["__file","问题记录.html.vue"]]),V=JSON.parse('{"path":"/Programming/Frontend/Nextjs/%E9%97%AE%E9%A2%98%E8%AE%B0%E5%BD%95.html","title":"问题记录","lang":"zh-CN","frontmatter":{"title":"问题记录","comment":false,"editLink":false,"prev":false,"next":false,"order":3,"description":"Application error: a client-side exception has occurred (see the browser console for more information). 问题重现 从github上拉取全新代码下来 然后运行","head":[["meta",{"property":"og:url","content":"https://vuepress-theme-hope-docs-demo.netlify.app/Programming/Frontend/Nextjs/%E9%97%AE%E9%A2%98%E8%AE%B0%E5%BD%95.html"}],["meta",{"property":"og:site_name","content":"一星的臭弟弟"}],["meta",{"property":"og:title","content":"问题记录"}],["meta",{"property":"og:description","content":"Application error: a client-side exception has occurred (see the browser console for more information). 问题重现 从github上拉取全新代码下来 然后运行"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-07-03T23:01:39.000Z"}],["meta",{"property":"article:author","content":"Cruldra"}],["meta",{"property":"article:modified_time","content":"2024-07-03T23:01:39.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"问题记录\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2024-07-03T23:01:39.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Cruldra\\",\\"url\\":\\"https://mister-hope.com\\"}]}"]]},"headers":[{"level":2,"title":"Application error: a client-side exception has occurred (see the browser console for more information).","slug":"application-error-a-client-side-exception-has-occurred-see-the-browser-console-for-more-information","link":"#application-error-a-client-side-exception-has-occurred-see-the-browser-console-for-more-information","children":[{"level":3,"title":"问题重现","slug":"问题重现","link":"#问题重现","children":[]},{"level":3,"title":"解决思路","slug":"解决思路","link":"#解决思路","children":[]},{"level":3,"title":"几点疑问","slug":"几点疑问","link":"#几点疑问","children":[]}]}],"git":{"createdTime":1720047699000,"updatedTime":1720047699000,"contributors":[{"name":"cruldra","email":"cruldra@gmail.com","commits":1}]},"readingTime":{"minutes":2.11,"words":633},"filePathRelative":"Programming/Frontend/Nextjs/问题记录.md","localizedDate":"2024年7月3日","autoDesc":true}');export{R as comp,V as data};
