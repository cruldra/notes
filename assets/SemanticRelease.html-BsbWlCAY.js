import{i as n,_ as t,o as l,c as r,e as u}from"./app-Bmelea3n.js";const h=n({__name:"SemanticRelease.html",setup(s,{expose:i}){i();const e={images:[{src:"https://cdn.jsdelivr.net/gh/hhypygy/images@master/20240108/img3.5sww72zpkyk0.png",alt:""}]};return Object.defineProperty(e,"__isScriptSetup",{enumerable:!1,value:!0}),e}}),p=u(`<h2 id="简介" tabindex="-1"><a class="header-anchor" href="#简介"><span>简介</span></a></h2><p><a href="https://www.npmjs.com/package/semantic-release" target="_blank" rel="noopener noreferrer">semantic-release</a>是一个<strong>自动化版本管理</strong>和<strong>包发布</strong>的工具,它遵循<a href="https://semver.org/" target="_blank" rel="noopener noreferrer">语义化版本控制(Semantic Versioning,简称SemVer)规范</a></p><h2 id="安装及配置" tabindex="-1"><a class="header-anchor" href="#安装及配置"><span>安装及配置</span></a></h2><ol><li>安装基础依赖</li></ol><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> i</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -D</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> semantic-release</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ol start="2"><li>项目根目录下创建配置文件<code>.releaserc.js</code></li></ol><div class="language-js line-numbers-mode" data-highlighter="shiki" data-ext="js" data-title="js" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;">module</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;">exports</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">    branches</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;master&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">    plugins</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: []</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="插件" tabindex="-1"><a class="header-anchor" href="#插件"><span>插件</span></a></h2><p><a href="https://www.npmjs.com/package/semantic-release" target="_blank" rel="noopener noreferrer">semantic-release</a>依赖各种各样的<a href="https://semantic-release.gitbook.io/semantic-release/extending/plugins-list" target="_blank" rel="noopener noreferrer">插件</a>来实现自动化流程</p><h3 id="semantic-release-gitmoji" tabindex="-1"><a class="header-anchor" href="#semantic-release-gitmoji"><span>semantic-release-gitmoji</span></a></h3><p><a href="https://www.npmjs.com/package/semantic-release-gitmoji" target="_blank" rel="noopener noreferrer">semantic-release-gitmoji</a>插件用于解析<code>git</code>提交信息中的<a href="https://gitmoji.carloscuesta.me/" target="_blank" rel="noopener noreferrer">gitmoji</a>表情符号,并根据表情符号来决定版本号的升级类型</p><p>对于这个插件的应用示例,可以参考<a href="https://github.com/cruldra/hichat-next.git" target="_blank" rel="noopener noreferrer">这个项目</a></p><h3 id="semantic-release-docker" tabindex="-1"><a class="header-anchor" href="#semantic-release-docker"><span>semantic-release-docker</span></a></h3><p><a href="https://www.npmjs.com/package/@3o2/semantic-release-docker" target="_blank" rel="noopener noreferrer">semantic-release-docker</a>插件用于自动化构建<code>docker</code>镜像并发布到<code>docker</code>仓库</p><h4 id="发布到阿里云镜像仓库" tabindex="-1"><a class="header-anchor" href="#发布到阿里云镜像仓库"><span>发布到阿里云镜像仓库</span></a></h4><ol><li>创建一个镜像仓库</li></ol><figure><img src="https://cdn.jsdelivr.net/gh/hhypygy/picx-images-hosting@master/img.2yy2zax3tn.webp" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><ol start="2"><li>设置访问密码</li></ol><figure><img src="https://cdn.jsdelivr.net/gh/hhypygy/picx-images-hosting@master/img2.77da94o6n1.webp" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><ol start="3"><li>在<code>.releaserc.js</code>中配置<code>semantic-release-docker</code></li></ol><div class="language-js line-numbers-mode" data-highlighter="shiki" data-ext="js" data-title="js" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;">module</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;">exports</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">    branches</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;master&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">    plugins</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: [</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">        ...</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">        [</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;@codedependant/semantic-release-docker&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">            dockerTags</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;latest&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;{{version}}&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">            dockerImage</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;hichat&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">            dockerFile</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;Dockerfile&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">            dockerRegistry </span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;registry.cn-shanghai.aliyuncs.com&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> ,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">            dockerProject </span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;dongjak&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> ,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">        }]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">    ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>dockerTags</code> - 版本标记,数组中的每个标记都会发布一个对应的镜像,内容都一样,只是标记不同</p><figure><img src="https://cdn.jsdelivr.net/gh/hhypygy/picx-images-hosting@master/img_1.7smxvfja72.webp" alt="img_1" tabindex="0" loading="lazy"><figcaption>img_1</figcaption></figure><p><code>dockerImage</code> - 对应仓库的名称⤵️</p><figure><img src="https://cdn.jsdelivr.net/gh/hhypygy/picx-images-hosting@master/img3.4n7fwhombi.webp" alt="img3" tabindex="0" loading="lazy"><figcaption>img3</figcaption></figure><p><code>dockerProject</code> - 创建镜像仓库时选择的命名空间⤵️</p><figure><img src="https://cdn.jsdelivr.net/gh/hhypygy/images@master/20240108/image.578dbrq0jqo0.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure>`,27),d=[p];function c(s,i,a,e,o,g){return l(),r("div",null,d)}const m=t(h,[["render",c],["__file","SemanticRelease.html.vue"]]),E=JSON.parse('{"path":"/Programming/Frontend/DevBuildRelease/SemanticRelease.html","title":"semantic-release","lang":"zh-CN","frontmatter":{"title":"semantic-release","comment":false,"editLink":false,"prev":false,"next":false,"description":"简介 semantic-release是一个自动化版本管理和包发布的工具,它遵循语义化版本控制(Semantic Versioning,简称SemVer)规范 安装及配置 安装基础依赖 项目根目录下创建配置文件.releaserc.js 插件 semantic-release依赖各种各样的插件来实现自动化流程 semantic-release-gitm...","head":[["meta",{"property":"og:url","content":"https://vuepress-theme-hope-docs-demo.netlify.app/Programming/Frontend/DevBuildRelease/SemanticRelease.html"}],["meta",{"property":"og:site_name","content":"一星的臭弟弟"}],["meta",{"property":"og:title","content":"semantic-release"}],["meta",{"property":"og:description","content":"简介 semantic-release是一个自动化版本管理和包发布的工具,它遵循语义化版本控制(Semantic Versioning,简称SemVer)规范 安装及配置 安装基础依赖 项目根目录下创建配置文件.releaserc.js 插件 semantic-release依赖各种各样的插件来实现自动化流程 semantic-release-gitm..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://cdn.jsdelivr.net/gh/hhypygy/picx-images-hosting@master/img.2yy2zax3tn.webp"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-07-03T23:01:39.000Z"}],["meta",{"property":"article:author","content":"Cruldra"}],["meta",{"property":"article:modified_time","content":"2024-07-03T23:01:39.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"semantic-release\\",\\"image\\":[\\"https://cdn.jsdelivr.net/gh/hhypygy/picx-images-hosting@master/img.2yy2zax3tn.webp\\",\\"https://cdn.jsdelivr.net/gh/hhypygy/picx-images-hosting@master/img2.77da94o6n1.webp\\",\\"https://cdn.jsdelivr.net/gh/hhypygy/picx-images-hosting@master/img_1.7smxvfja72.webp\\",\\"https://cdn.jsdelivr.net/gh/hhypygy/picx-images-hosting@master/img3.4n7fwhombi.webp\\",\\"https://cdn.jsdelivr.net/gh/hhypygy/images@master/20240108/image.578dbrq0jqo0.png\\"],\\"dateModified\\":\\"2024-07-03T23:01:39.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Cruldra\\",\\"url\\":\\"https://mister-hope.com\\"}]}"]]},"headers":[{"level":2,"title":"简介","slug":"简介","link":"#简介","children":[]},{"level":2,"title":"安装及配置","slug":"安装及配置","link":"#安装及配置","children":[]},{"level":2,"title":"插件","slug":"插件","link":"#插件","children":[{"level":3,"title":"semantic-release-gitmoji","slug":"semantic-release-gitmoji","link":"#semantic-release-gitmoji","children":[]},{"level":3,"title":"semantic-release-docker","slug":"semantic-release-docker","link":"#semantic-release-docker","children":[]}]}],"git":{"createdTime":1720047699000,"updatedTime":1720047699000,"contributors":[{"name":"cruldra","email":"cruldra@gmail.com","commits":1}]},"readingTime":{"minutes":1.21,"words":364},"filePathRelative":"Programming/Frontend/DevBuildRelease/SemanticRelease.md","localizedDate":"2024年7月3日","autoDesc":true}');export{m as comp,E as data};
