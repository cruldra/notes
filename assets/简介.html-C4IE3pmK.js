import{_ as s,o as i,c as a,e}from"./app-Bmelea3n.js";const n={},l=e(`<h2 id="简介" tabindex="-1"><a class="header-anchor" href="#简介"><span>简介</span></a></h2><p><code>短信服务</code>是指通过短信网关向用户发送短信的服务,这个在平时开发中是很常见的需求,比如注册时的短信验证码、忘记密码时的短信验证码等等</p><h2 id="短信网关" tabindex="-1"><a class="header-anchor" href="#短信网关"><span>短信网关</span></a></h2><p>短信网关是指短信服务提供商提供的短信发送接口,我们可以通过调用这些接口来发送短信</p><p>常见的短信网关有:</p><ul><li><a href="https://www.aliyun.com/product/sms" target="_blank" rel="noopener noreferrer">阿里云短信服务</a></li><li><a href="https://cloud.tencent.com/product/sms" target="_blank" rel="noopener noreferrer">腾讯云短信服务</a></li><li><a href="https://www.huaweicloud.com/product/msgsms.html" target="_blank" rel="noopener noreferrer">华为云短信服务</a></li></ul><h2 id="统一短信服务扩展包" tabindex="-1"><a class="header-anchor" href="#统一短信服务扩展包"><span>统一短信服务扩展包</span></a></h2><div class="hint-container tip"><p class="hint-container-title">提示</p><p><strong>统一短信服务扩展包</strong>用于对各种短信服务进行统一封装,屏蔽各个短信服务的差异,方便我们在不同的短信服务之间切换</p></div><p>这里面包括两个组件</p><ol><li><code>extensions-sms</code> - 用于对短信服务进行统一封装,可以用于非<code>Spring Boot</code>项目</li><li><code>starter-base</code> - 用于<code>Spring Boot</code>项目,对<code>extensions-sms</code>进行了自动配置</li></ol><h2 id="准备工作" tabindex="-1"><a class="header-anchor" href="#准备工作"><span>准备工作</span></a></h2><p>不管是哪个短信网关,我们都需要先到对应平台的官网注册一个账号,然后创建一个应用(有可能不需要),然后生成<code>AccessKey</code>和<code>AccessSecret</code></p><p>要使用短信服务,我们还需要创建短信模板、签名等等</p><h2 id="阿里云短信服务" tabindex="-1"><a class="header-anchor" href="#阿里云短信服务"><span>阿里云短信服务</span></a></h2><p>先引入官方<code>阿里云短信官方sdk</code>和<code>统一短信服务扩展包</code></p><div class="language-gradle line-numbers-mode" data-highlighter="shiki" data-ext="gradle" data-title="gradle" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>implementation(&quot;cn.dongjak:starter-base&quot;)</span></span>
<span class="line"><span>implementation(&quot;cn.dongjak:extensions-sms&quot;)</span></span>
<span class="line"><span>implementation(&quot;com.aliyun:alibabacloud-dysmsapi20170525&quot;)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>然后在<code>application.yml</code>中添加如下配置:</p><div class="language-yaml line-numbers-mode" data-highlighter="shiki" data-ext="yaml" data-title="yaml" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">sms</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">  access-key-id</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">你的ak</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">  access-key-secret</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">你的sk</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">  provider</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">aliyun</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>最后使用<code>ISms</code>接口来实现短信相关的功能,测试代码如下:</p><div class="language-kotlin line-numbers-mode" data-highlighter="shiki" data-ext="kotlin" data-title="kotlin" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;">@SpringBootTest</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;"> AliyunSmsServiceTests</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;">    @Autowired</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">    private</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> lateinit</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> var</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> smsService: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;">ISms</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;">    @Test</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">    fun</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> testSendSms</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">() {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">        assert</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">            smsService.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">send</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">                &quot;13271976859&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">AliyunSmsSendRequestParams</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">                    signName </span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;阿里云短信测试&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">                    templateCode </span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;SMS_154950909&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">                    templateParam </span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;{</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">\\&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">code</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">\\&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">\\&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">123456</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">\\&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">}&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">                )</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">            ).successful</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">        )</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,20),t=[l];function p(h,r){return i(),a("div",null,t)}const k=s(n,[["render",p],["__file","简介.html.vue"]]),c=JSON.parse('{"path":"/Best%20Practices/SMS/%E7%AE%80%E4%BB%8B.html","title":"简介","lang":"zh-CN","frontmatter":{"title":"简介","comment":false,"editLink":false,"prev":false,"next":false,"order":1,"description":"简介 短信服务是指通过短信网关向用户发送短信的服务,这个在平时开发中是很常见的需求,比如注册时的短信验证码、忘记密码时的短信验证码等等 短信网关 短信网关是指短信服务提供商提供的短信发送接口,我们可以通过调用这些接口来发送短信 常见的短信网关有: 阿里云短信服务 腾讯云短信服务 华为云短信服务 统一短信服务扩展包 提示 统一短信服务扩展包用于对各种短信...","head":[["meta",{"property":"og:url","content":"https://vuepress-theme-hope-docs-demo.netlify.app/Best%20Practices/SMS/%E7%AE%80%E4%BB%8B.html"}],["meta",{"property":"og:site_name","content":"一星的臭弟弟"}],["meta",{"property":"og:title","content":"简介"}],["meta",{"property":"og:description","content":"简介 短信服务是指通过短信网关向用户发送短信的服务,这个在平时开发中是很常见的需求,比如注册时的短信验证码、忘记密码时的短信验证码等等 短信网关 短信网关是指短信服务提供商提供的短信发送接口,我们可以通过调用这些接口来发送短信 常见的短信网关有: 阿里云短信服务 腾讯云短信服务 华为云短信服务 统一短信服务扩展包 提示 统一短信服务扩展包用于对各种短信..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-07-03T23:01:39.000Z"}],["meta",{"property":"article:author","content":"Cruldra"}],["meta",{"property":"article:modified_time","content":"2024-07-03T23:01:39.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"简介\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2024-07-03T23:01:39.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Cruldra\\",\\"url\\":\\"https://mister-hope.com\\"}]}"]]},"headers":[{"level":2,"title":"简介","slug":"简介","link":"#简介","children":[]},{"level":2,"title":"短信网关","slug":"短信网关","link":"#短信网关","children":[]},{"level":2,"title":"统一短信服务扩展包","slug":"统一短信服务扩展包","link":"#统一短信服务扩展包","children":[]},{"level":2,"title":"准备工作","slug":"准备工作","link":"#准备工作","children":[]},{"level":2,"title":"阿里云短信服务","slug":"阿里云短信服务","link":"#阿里云短信服务","children":[]}],"git":{"createdTime":1720047699000,"updatedTime":1720047699000,"contributors":[{"name":"cruldra","email":"cruldra@gmail.com","commits":1}]},"readingTime":{"minutes":1.56,"words":468},"filePathRelative":"Best Practices/SMS/简介.md","localizedDate":"2024年7月3日","autoDesc":true}');export{k as comp,c as data};
