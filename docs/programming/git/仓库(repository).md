---
title: 仓库(repository)
comment: false
editLink: false
prev: false
next: false
order: 1
---
 
## 浅仓库(shallow repository)
### 什么是 shallow repo

`Shallow repo`（浅仓库）是 Git 中的一种特殊仓库，它只包含 Git 历史记录中的部分提交，而不是完整的历史记录。浅仓库的存在是为了在克隆大型 Git 仓库时节省时间和网络带宽，因为它只获取 Git 历史记录中最近的一些提交，而不是整个历史记录。

使用 `git clone --depth <depth> <repo>` 命令可以创建一个浅仓库，其中 `<depth>` 指定了所需的历史记录深度。例如，`--depth 1` 表示只获取最近一次提交，而 `--depth 10` 表示获取最近的 10 个提交。创建一个浅仓库后，您将只能查看存储在本地的提交，而无法查看更早的历史记录。

浅仓库的一些限制包括：

- 您不能将浅仓库转换为完整仓库，而只能将其转换为另一个浅仓库或更深的浅仓库。
- 您不能在浅仓库中执行某些 Git 操作，例如 `git bisect` 或 `git blame`，因为这些操作需要完整的历史记录来确定文件的状态。
- 如果您在浅仓库中进行修改并提交更改，则这些更改只会存在于本地仓库中，而不会传播到远程仓库中，除非您将浅仓库转换为完整仓库并将更改推送到远程仓库。

总之，浅仓库提供了一种快速克隆大型 Git 仓库的方法，但也带来了一些限制和注意事项。如果您需要完整的历史记录以进行更详细的分析或操作，则应使用完整的 Git 仓库。
